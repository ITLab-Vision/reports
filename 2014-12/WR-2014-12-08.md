# ITLab Vision — Weekly Report — 08 December 2014

----------------

## Результаты

  1. Виноградов Владислав
     - Перерисована ROC-кривая для HOG-детектора из OpenCV в соответствии
     с измененным [кодом][people-detect]. Результат такой же: кривая
     для HOG из OpenCV показывает худший результат по сравнению с алгоритмами
     из Caltech Pedestrian Benchmark на одинаковой тестовой выборке INRIA.
     - [Изменен код][icf-detect] `fcw_detect` из opencv_contrib/modules/adas.
     - Сгенерированы [ROC-кривые для ICF-классификатора][icf-roc].

[people-detect]: https://github.com/ITLab-Vision/obj-detect-classifiers/tree/master/src/hog-detector/peopledetect.py
[icf-detect]: https://github.com/ITLab-Vision/obj-detect-classifiers/blob/master/src/icf-detector/icf_detect.cpp
[icf-roc]: https://github.com/ITLab-Vision/obj-detect-classifiers/blob/master/results/roc-plots/caltect_vs_icf_plots.png

  1. Долотов Евгений
     - Пытался сделать классификацию картинок с цифрами не из файла со списком
     картинок, а классификацию одной картинки, которая передается
     через командную строку. Заработал только один вариант
     (с небольшим костылем :) )
  1. Кручинин Дмитрий
     - Натренировал 2 свёрточных сети для детектирования лиц (параметры
     можно посмотреть [здесь][table], также приложил графики обучения
     (по оси X отложено кол-во итераций, по Y -- точность, т.е. отношение
     правильно классифицированных примеров к общему кол-ву).

      * CNN-face : 2 свёртки -> линейная регрессия
      
        (1): Convolution
        (2): ReLU (rectified linear unit)
        (3): MaxPooling
        
        (4): Convolution
        (5): ReLU
        
        LinearRegression {
          (6): Linear (y = Wx + b)
          (7): LogSoftMax
        }
    
      * CNN3-face : 3 свёртки -> 2 слойный перцептрон
      
        (1): Convolution
        (2): ReLU
        (3): MaxPooling
        
        (4): Convolution
        (5): ReLU
        (6): MaxPooling
        
        (7): Convolution
        (8): ReLU
        
        MLP {
          (9): Linear
          (10): ReLU
          (11): Linear
          (12): LogSoftMax
        }
  
     - Находимся в процессе написания статьи.

[table]: https://docs.google.com/spreadsheets/d/1U5v-xap-dkm5Hu-uh49nn7NEwNafjEE9Bos9qsz0wo0/edit#gid=0)

  1. Малютина Екатерина
     - Тренировка каскадного классификатора с признаками Хаара в процессе.

  1. Скребков Артем
     - Реализован детектор лиц с моделями, которые дал Дима, работает странно,
     очень много ложных срабатываний, исходники можно посмотреть в ветке
     facesDetector в моей [копии репозитория FDDB][face-det-repo].

[face-det-repo]: https://github.com/stragger/itlab-vision-faces-detection

  1. Чернов Сергей
     - Получил от Екатерины общую базу изображений. База позитивных
     примеров - это наборы данных BioId, Caltech WebFaces, CIE Biomatrics,
     Colorferet, FEI, GENKI R2009, IMM, MUCT.
     База негативных примеров - RGDB Scenes, 256 Object Categories Caltech.
     - Натренировал каскадный классификатор (LBP) используя ~15% от имеющегося
     числа изображений в общей базе.
     - Натренировал каскадный классификатор (LBP) на множестве всех изображений
     в общей базе.
     - Построил ROC-кривые для полученных классификаторов, сравнил с ROC-кривыми
     для моделей из OpenCV. Посмотреть их можно [тут][roc-curves].

[roc-curves]: https://github.com/ITLab-Vision/FDDB/blob/master/Roc-curves/ROC-curves_OpenCV_vs_Self-trained(LBP).png


## Планы

  1. Виноградов Владислав
     - Найти и исправить ошибку при сборе результатов работы HOG-детектора
     из OpenCV и перестроить соответствующую ROC-кривую.
     - Прочитать статью
     [Histograms of Oriented Gradients for Human Detection][dalal-hog]
     и разобраться, как работают HOG.

[dalal-hog]: http://lear.inrialpes.fr/people/triggs/pubs/Dalal-cvpr05.pdf

  1. Долотов Евгений
     - Писать статью.
     - Тренировка Caffe на лицах.
     - Добиться полноценного использования Caffe-классификатора из C++.
  1. Кручинин Дмитрий
     - Написать план статьи и её пробную версию.
     - Попробовать обучить нейросеть CNN3-face (см. выше)
     на большем количестве примеров.
     - Найти конфигурации сетей для детектирования лиц.
  1. Малютина Екатерина
     - Натренировать классификатор (HAAR) и сравнить с готовой моделью из OpenCV.
  1. Скребков Артем
     - Детектор для Caffe.
     - Доработка детектора лиц для Torch.
  1. Чернов Сергей
     - Придумать как уменьшить долю ложно положительных классификаций
     на будущих моделях.


## Проблемы

  1. Долотов Евгений
     - Не удается нормально использовать классификатор, обученный с помощью Caffe,
     из C++-приложения.
     - Было замечено, что классификатор, обученный с помощью Caffe, выдает
     разные классы при запуске на одной и той же картинке.
     Причина пока не установлена.
  1. Малютина Екатерина
     - Из-за того что тренировка идет очень долго (больше 1.5 суток)
     нет возможности использовать свою машину.
     - Приложение для обучения каскадного классификатора с признаками Хаара
     на большой базе изображений завершается с ошибкой.
  